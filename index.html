<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NDIBET - Elite Casino</title>
    <style>
        :root { --gold: #ffcc00; --dark: #0b0e11; --card: #1c2127; --green: #00ff88; --red: #ff4d4d; }
        body { background: var(--dark); color: white; font-family: 'Poppins', sans-serif; margin: 0; padding-bottom: 90px; }
        
        /* HEADER PRO */
        .header { background: #161a1e; padding: 15px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid var(--gold); position: sticky; top: 0; z-index: 1000; box-shadow: 0 4px 10px rgba(0,0,0,0.5); }
        .bal-display { background: rgba(255, 204, 0, 0.1); padding: 7px 15px; border-radius: 20px; border: 1px solid var(--gold); color: var(--gold); font-weight: bold; font-size: 1.1rem; }

        /* JEUX NAVIGATION */
        .nav-games { display: flex; overflow-x: auto; background: #161a1e; padding: 10px; gap: 20px; border-bottom: 1px solid #333; }
        .game-link { color: #848e9c; font-weight: bold; cursor: pointer; white-space: nowrap; text-transform: uppercase; font-size: 0.9rem; }
        .game-link.active { color: var(--gold); border-bottom: 2px solid var(--gold); }

        /* ZONE DE JEU */
        .container { max-width: 450px; margin: 20px auto; padding: 0 15px; }
        .game-box { background: var(--card); border-radius: 20px; padding: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.6); position: relative; }
        .screen { width: 100%; height: 230px; background: #000; border-radius: 15px; margin-bottom: 20px; border: 1px solid #333; position: relative; overflow: hidden; display: flex; justify-content: center; align-items: center; }

        /* PENALTY CSS */
        .field { width: 100%; height: 100%; background: linear-gradient(to top, #1b5e20, #2ecc71); display: none; }
        .goal-pro { position: absolute; top: 40px; left: 50%; transform: translateX(-50%); width: 220px; height: 100px; border: 5px solid white; border-bottom: none; box-shadow: inset 0 0 20px rgba(255,255,255,0.3); }
        .ball-pro { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); font-size: 35px; transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }

        /* CRASH/ROULETTE CSS */
        .big-text { font-size: 3.5rem; font-weight: 900; }
        
        /* BOUTONS STYLE 1WIN */
        .grid-btn { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .btn-play { background: linear-gradient(180deg, #ffcc00, #ff9900); border: none; color: black; padding: 18px; border-radius: 12px; font-weight: 900; font-size: 1rem; cursor: pointer; box-shadow: 0 4px 15px rgba(255, 204, 0, 0.3); transition: 0.2s; }
        .btn-play:active { transform: scale(0.95); }

        /* NAVIGATION BASSE */
        .bottom-nav { position: fixed; bottom: 0; width: 100%; background: #161a1e; display: flex; justify-content: space-around; padding: 15px 0; border-top: 1px solid #333; z-index: 1000; }
        .nav-item { color: #848e9c; text-decoration: none; font-size: 0.8rem; text-align: center; }
        .nav-item i { display: block; font-size: 1.2rem; margin-bottom: 5px; }
        .nav-item.active { color: var(--gold); }
        .deposit-btn { background: #25d366; color: white; padding: 10px 20px; border-radius: 10px; font-weight: bold; border: none; cursor: pointer; }

        /* POPUP */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 2000; justify-content: center; align-items: center; }
        .modal-card { background: var(--card); width: 85%; padding: 30px; border-radius: 20px; border: 1px solid var(--gold); }
        input { width: 100%; padding: 15px; margin: 10px 0; border-radius: 10px; border: 1px solid #333; background: #0b0e11; color: white; font-size: 1rem; }
    </style>
</head>
<body>

<div class="header">
    <div style="display: flex; align-items: center; gap: 10px;">
        <img src="icon.png" style="width: 40px; border-radius: 50%; border: 1px solid var(--gold);">
        <span style="font-weight: 900; font-size: 1.2rem;">NDIBET</span>
    </div>
    <div class="bal-display"><span id="solde">0</span> F</div>
</div>

<div class="nav-games">
    <div class="game-link active" onclick="setG('p', this)">Penalty</div>
    <div class="game-link" onclick="setG('c', this)">Crash</div>
    <div class="game-link" onclick="setG('r', this)">Roulette</div>
    <div class="game-link" onclick="setG('d', this)">D√©s</div>
</div>

<div class="container">
    <div class="game-box">
        <div class="screen">
            <div id="u-p" class="field" style="display:block;"><div class="goal-pro"></div><div id="ball" class="ball-pro">‚öΩ</div></div>
            <div id="u-c" style="display:none;" class="big-text"><span id="c-val" style="color:var(--green);">1.00x</span></div>
            <div id="u-r" style="display:none;" class="big-text"><span id="r-val" style="color:var(--gold);">0</span></div>
            <div id="u-d" style="display:none;" class="big-text"><span id="d-val">üé≤</span></div>
        </div>

        <div id="ctrl-p" class="grid-btn">
            <button class="btn-play" onclick="play('p','left')">GAUCHE</button>
            <button class="btn-play" onclick="play('p','right')">DROITE</button>
        </div>
        <div id="ctrl-c" style="display:none;">
            <button id="c-btn" class="btn-play" style="width:100%;" onclick="play('c')">MISER 500F</button>
        </div>
        <div id="ctrl-r" style="display:none;">
            <input type="number" id="r-in" placeholder="Num√©ro (0-36)" style="text-align: center;">
            <button class="btn-play" style="width:100%;" onclick="play('r')">TOURNER (500F)</button>
        </div>
        <div id="ctrl-d" style="display:none;">
            <button class="btn-play" style="width:100%;" onclick="play('d')">LANCER (500F)</button>
        </div>

        <p id="info-msg" style="text-align: center; font-weight: bold; color: var(--gold); margin-top: 20px;">BONNE CHANCE BOSS !</p>
    </div>
</div>

<div class="bottom-nav">
    <div class="nav-item active"><i>üè†</i>Accueil</div>
    <button class="deposit-btn" onclick="openM('depot')">D√âP√îT</button>
    <div class="nav-item" onclick="openM('retrait')"><i>üì•</i>Retrait</div>
</div>

<div id="modal" class="modal">
    <div class="modal-card">
        <h2 id="m-title" style="color: var(--gold); margin-top: 0;">D√âP√îT</h2>
        <input type="text" id="m-nom" placeholder="Nom Complet">
        <input type="number" id="m-num" placeholder="Num√©ro Wave">
        <input type="number" id="m-mt" placeholder="Montant">
        <button class="btn-play" style="width: 100%;" onclick="submitM()">VALIDER SUR WHATSAPP</button>
        <button onclick="closeM()" style="background:none; border:none; color:gray; width:100%; margin-top:15px;">Fermer</button>
    </div>
</div>

<script>
    let bal = 0;
    let isC = false;
    let cV = 1.0;
    let cI;

    function speak(t) {
        let s = window.speechSynthesis;
        let u = new SpeechSynthesisUtterance(t);
        u.lang = 'fr-FR'; s.speak(u);
    }

    function setG(g, el) {
        document.querySelectorAll('.game-link').forEach(l => l.classList.remove('active'));
        el.classList.add('active');
        ['p','c','r','d'].forEach(x => {
            document.getElementById('u-'+x).style.display = (x === g ? (x==='p'?'block':'flex') : 'none');
            document.getElementById('ctrl-'+x).style.display = (x === g ? 'block' : 'none');
        });
    }

    function play(g, dir) {
        if(bal < 500 && g !== 'p') { speak("Solde insuffisant."); return; }
        let msg = document.getElementById('info-msg');
        
        if(g === 'p') {
            let b = document.getElementById('ball');
            b.style.bottom = "150px"; b.style.left = dir === 'left' ? "30%" : "70%";
            setTimeout(() => {
                let w = Math.random() > 0.4;
                bal += w ? 500 : -200;
                msg.innerText = w ? "BUT !!!" : "ARR√äT√â !";
                speak(w ? "But extraordinaire !" : "Le gardien l'a arr√™t√©.");
                document.getElementById('solde').innerText = bal;
                setTimeout(() => { b.style.bottom="20px"; b.style.left="50%"; }, 1000);
            }, 500);
        }
        else if(g === 'd') {
            let d = Math.floor(Math.random()*6)+1;
            document.getElementById('d-val').innerText = d;
            bal += (d > 3) ? 500 : -500;
            speak(d > 3 ? "Gagn√© !" : "Perdu !");
        }
        else if(g === 'r') {
            let i = document.getElementById('r-in').value;
            if(!i || i > 36) return speak("Choisissez un num√©ro.");
            let res = Math.floor(Math.random()*37);
            document.getElementById('r-val').innerText = res;
            if(parseInt(i) === res) { bal += 17500; speak("Jackpot ! Num√©ro "+res); }
            else { bal -= 500; speak("Le num√©ro √©tait le "+res); }
        }
        else if(g === 'c') { handleC(); }
        document.getElementById('solde').innerText = bal;
    }

    function handleC() {
        let b = document.getElementById('c-btn');
        if(!isC) {
            isC = true; cV = 1.0; b.innerText = "CASH OUT";
            let boom = (Math.random()*4 + 1.2).toFixed(2);
            speak("D√©collage !");
            cI = setInterval(() => {
                cV += 0.1; document.getElementById('c-val').innerText = cV.toFixed(2) + "x";
                if(cV >= boom) {
                    clearInterval(cI); isC = false; b.innerText = "BOOM !";
                    bal -= 500; document.getElementById('solde').innerText = bal;
                    speak("L'avion a explos√©.");
                }
            }, 100);
        } else {
            clearInterval(cI); isC = false;
            let win = Math.floor(500 * cV);
            bal += win; document.getElementById('solde').innerText = bal;
            b.innerText = "MISER 500F"; speak("Encaiss√© " + win);
        }
    }

    function openM(a) { document.getElementById('modal').style.display='flex'; document.getElementById('m-title').innerText=a.toUpperCase(); }
    function closeM() { document.getElementById('modal').style.display='none'; }
    function submitM() {
        let t = document.getElementById('m-title').innerText;
        let url = `https://wa.me/2250707656355?text=NDIBET%20${t}%0ANom:%20${document.getElementById('m-nom').value}%0ANum:%20${document.getElementById('m-num').value}%0AMt:%20${document.getElementById('m-mt').value}F`;
        window.location.href = url;
    }
</script>
</body>
</html>
