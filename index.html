<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NDIBET - Elite Casino & Business</title>
    <style>
        :root { --gold: #ffcc00; --dark: #0b0e11; --card: #1c2127; --green: #00ff88; --red: #ff4d4d; }
        body { background: var(--dark); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; padding-bottom: 100px; overflow-x: hidden; }
        
        /* HEADER AVEC SOLDE */
        .header { background: #161a1e; padding: 18px; display: flex; justify-content: space-between; align-items: center; border-bottom: 3px solid var(--gold); position: sticky; top: 0; z-index: 1000; box-shadow: 0 4px 15px rgba(0,0,0,0.5); }
        .bal-badge { background: rgba(255, 204, 0, 0.15); padding: 10px 18px; border-radius: 30px; border: 1px solid var(--gold); color: var(--gold); font-weight: 900; font-size: 1.2rem; }

        /* S√âLECTEUR DE JEUX */
        .tabs { display: flex; background: #1c2127; border-bottom: 1px solid #333; }
        .tab { flex: 1; padding: 15px; text-align: center; font-weight: bold; cursor: pointer; color: #848e9c; text-transform: uppercase; font-size: 0.8rem; transition: 0.3s; }
        .tab.active { color: var(--gold); border-bottom: 2px solid var(--gold); background: rgba(255,204,0,0.1); }

        /* CARR√â DE GAIN ILLUMIN√â */
        .gain-display { background: linear-gradient(135deg, rgba(0,255,136,0.1) 0%, #000 100%); border: 2px solid var(--green); border-radius: 15px; padding: 15px; margin: 15px auto; width: 220px; text-align: center; box-shadow: 0 0 20px rgba(0, 255, 136, 0.3); animation: pulse 2s infinite; }
        .gain-amount { font-size: 2rem; font-weight: 900; color: #fff; text-shadow: 0 2px 10px rgba(0,0,0,0.5); }

        /* GRILLES DE JEU */
        .game-container { max-width: 420px; margin: 0 auto; padding: 10px; text-align: center; }
        
        /* MINES */
        .grid-mines { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; margin: 15px 0; }
        .cell { aspect-ratio: 1; background: #2b3139; border-radius: 8px; border: none; font-size: 1.4rem; cursor: pointer; box-shadow: 0 4px 0 #000; transition: 0.1s; }
        .cell.open { background: var(--green); box-shadow: 0 4px 0 #008844; }
        .cell.boom { background: var(--red); box-shadow: 0 4px 0 #880000; }

        /* CHICKEN ROAD */
        .chicken-tower { display: flex; flex-direction: column-reverse; gap: 10px; margin: 15px 0; }
        .chicken-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding: 8px; border-radius: 12px; opacity: 0.3; transition: 0.3s; }
        .chicken-row.active { opacity: 1; background: rgba(255,204,0,0.1); border: 1px dashed var(--gold); }
        .chk-btn { padding: 15px; background: #2b3139; border: none; border-radius: 10px; cursor: pointer; font-size: 1.3rem; box-shadow: 0 4px 0 #000; }

        /* PANNEAU DE MISE */
        .panel { background: var(--card); border-radius: 20px; padding: 20px; margin: 10px; border: 1px solid #333; box-shadow: 0 10px 25px rgba(0,0,0,0.4); }
        input, select { background: #000; border: 1px solid #444; color: var(--gold); padding: 14px; border-radius: 12px; width: 100%; box-sizing: border-box; font-weight: 900; font-size: 1.1rem; margin-top: 5px; margin-bottom: 15px; outline: none; }
        
        .btn-main { background: linear-gradient(180deg, #ffcc00, #ff9900); border: none; color: black; padding: 18px; border-radius: 15px; font-weight: 900; width: 100%; cursor: pointer; text-transform: uppercase; font-size: 1.1rem; box-shadow: 0 4px 15px rgba(255,153,0,0.3); }

        /* NAVIGATION BASSE */
        .footer-nav { position: fixed; bottom: 0; width: 100%; background: #161a1e; display: flex; justify-content: space-around; align-items: center; padding: 15px 0; border-top: 2px solid #333; z-index: 1000; }
        .nav-item { color: #848e9c; font-size: 0.8rem; font-weight: bold; cursor: pointer; text-align: center; }
        .btn-depot { background: var(--green); color: black; border: none; padding: 12px 25px; border-radius: 12px; font-weight: 900; }

        @keyframes pulse { 0% {box-shadow: 0 0 10px rgba(0,255,136,0.2);} 50% {box-shadow: 0 0 25px rgba(0,255,136,0.5);} 100% {box-shadow: 0 0 10px rgba(0,255,136,0.2);} }
    </style>
</head>
<body>

<div class="header">
    <div id="admin-trigger" style="font-weight: 900; font-size: 1.4rem; letter-spacing: 1px;" onclick="handleAdmin()">NDI<span style="color:var(--gold)">BET</span></div>
    <div class="bal-badge"><span id="display-solde">0</span> F</div>
</div>

<div class="tabs">
    <div class="tab active" id="tab-mines" onclick="toggleGame('mines')">üí£ Mines</div>
    <div class="tab" id="tab-chicken" onclick="toggleGame('chicken')">üçó Chicken</div>
</div>

<div class="game-container">
    <div class="gain-display">
        <div style="font-size: 0.7rem; color: var(--green); font-weight: 900;">GAIN POTENTIEL</div>
        <div class="gain-amount" id="pot-val">0 F</div>
    </div>

    <div id="area-mines" class="grid-mines"></div>

    <div id="area-chicken" class="chicken-tower" style="display:none;"></div>

    <div class="panel">
        <label style="font-size: 0.75rem; color: #848e9c; font-weight: bold;">MONTANT DE LA MISE</label>
        <input type="number" id="input-mise" value="100" min="100">
        
        <div id="mines-config">
            <label style="font-size: 0.75rem; color: #848e9c; font-weight: bold;">NOMBRE DE PI√àGES</label>
            <select id="select-mines">
                <option value="1">1 Mine (x1.15)</option>
                <option value="2">2 Mines (x1.35)</option>
                <option value="3" selected>3 Mines (x1.70)</option>
                <option value="4">4 Mines (x2.20)</option>
                <option value="5">5 Mines (x3.50)</option>
            </select>
        </div>

        <button id="btn-play" class="btn-main" onclick="initPartie()">JOUER MAINTENANT</button>
        <button id="btn-cashout" class="btn-main" style="display:none; background: var(--green);" onclick="collecter()">CASH OUT (ENCAISSER)</button>
    </div>
</div>

<div class="footer-nav">
    <div class="nav-item" onclick="location.reload()">üè† ACCUEIL</div>
    <button class="btn-depot" onclick="contactWhatsApp('depot')">üí∞ D√âP√îT</button>
    <div class="nav-item" style="color: var(--red);" onclick="contactWhatsApp('retrait')">üì• RETRAIT</div>
</div>

<script>
    let solde = 0; let currentGame = 'mines'; let isPlaying = false; let isGod = false;
    let potActuel = 0; let miseActive = 0; let positionsMines = []; let positionsPoulets = [];
    let etapeChicken = 0; let clickAdmin = 0;

    function vocal(t) { let u = new SpeechSynthesisUtterance(t); u.lang = 'fr-FR'; window.speechSynthesis.speak(u); }

    // INITIALISER LES GRILLES
    function bootstrap() {
        const mGrid = document.getElementById('area-mines');
        for(let i=0; i<25; i++){
            let b = document.createElement('button'); b.className = 'cell';
            b.onclick = () => playMines(i, b); mGrid.appendChild(b);
        }
        const cGrid = document.getElementById('area-chicken');
        for(let r=0; r<6; r++){
            let row = document.createElement('div'); row.className = 'chicken-row'; row.id = 'row-' + r;
            for(let j=0; j<3; j++){
                let b = document.createElement('button'); b.className = 'chk-btn'; b.innerText = '‚ùì';
                b.onclick = () => playChicken(r, j, b); row.appendChild(b);
            }
            cGrid.appendChild(row);
        }
    }
    bootstrap();

    function handleAdmin() {
        clickAdmin++;
        if(clickAdmin === 3) {
            let p = prompt("üîë NDIBET ADMIN :\nEntrez le montant ou le code BOSS :");
            if(p === "BOSS99") { isGod = true; vocal("Mode illimit√© activ√©."); majUI(); }
            else if(p) { solde += parseInt(p); isGod = false; majUI(); vocal("D√©p√¥t valid√©."); }
            clickAdmin = 0;
        }
        setTimeout(() => clickAdmin = 0, 2000);
    }

    function toggleGame(g) {
        if(isPlaying) return;
        currentGame = g;
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.getElementById('tab-' + g).classList.add('active');
        document.getElementById('area-mines').style.display = g === 'mines' ? 'grid' : 'none';
        document.getElementById('area-chicken').style.display = g === 'chicken' ? 'flex' : 'none';
        document.getElementById('mines-config').style.display = g === 'mines' ? 'block' : 'none';
    }

    function initPartie() {
        miseActive = parseInt(document.getElementById('input-mise').value);
        if(!isGod && solde < miseActive) return alert("‚ùå Solde insuffisant !");
        
        if(!isGod) solde -= miseActive;
        majUI(); isPlaying = true; potActuel = miseActive; etapeChicken = 0;
        document.getElementById('pot-val').innerText = potActuel + " F";
        document.getElementById('btn-play').style.display = 'none';
        document.getElementById('btn-cashout').style.display = 'block';

        if(currentGame === 'mines') {
            positionsMines = []; let n = document.getElementById('select-mines').value;
            while(positionsMines.length < n){ let r = Math.floor(Math.random()*25); if(!positionsMines.includes(r)) positionsMines.push(r); }
            document.querySelectorAll('.cell').forEach(c => { c.className = 'cell'; c.innerText = ''; });
        } else {
            positionsPoulets = []; for(let i=0; i<6; i++) positionsPoulets.push(Math.floor(Math.random()*3));
            document.querySelectorAll('.chk-btn').forEach(b => { b.innerText = '‚ùì'; b.style.background = '#2b3139'; });
            stepHighlight();
        }
        vocal("Bonne chance.");
    }

    function playMines(i, b) {
        if(!isPlaying || currentGame !== 'mines' || b.innerText !== '') return;
        if(positionsMines.includes(i)) {
            b.classList.add('boom'); b.innerText = 'üí£'; isPlaying = false;
            vocal("Boum !"); setTimeout(stopAll, 1500);
        } else {
            b.classList.add('open'); b.innerText = 'üíé';
            let mQty = parseInt(document.getElementById('select-mines').value);
            let mult = 1 + (mQty * 0.2); 
            potActuel = Math.floor(potActuel * mult);
            document.getElementById('pot-val').innerText = potActuel + " F";
            vocal("Diamant.");
        }
    }

    function playChicken(r, j, b) {
        if(!isPlaying || currentGame !== 'chicken' || r !== etapeChicken) return;
        if(positionsPoulets[r] === j) {
            b.style.background = 'var(--red)'; b.innerText = '‚ò†Ô∏è'; isPlaying = false;
            vocal("Aille ! Un os."); setTimeout(stopAll, 1500);
        } else {
            b.style.background = 'var(--green)'; b.innerText = 'üçó';
            potActuel = Math.floor(potActuel * 1.6);
            document.getElementById('pot-val').innerText = potActuel + " F";
            etapeChicken++; vocal("Poulet r√¥ti.");
            if(etapeChicken > 5) collecter(); else stepHighlight();
        }
    }

    function stepHighlight() {
        document.querySelectorAll('.chicken-row').forEach(row => row.classList.remove('active'));
        if(etapeChicken < 6) document.getElementById('row-' + etapeChicken).classList.add('active');
    }

    function collecter() {
        if(!isPlaying || potActuel <= miseActive) return;
        solde += potActuel; vocal("Gagn√© !"); stopAll();
    }

    function stopAll() {
        isPlaying = false;
        document.getElementById('btn-play').style.display = 'block';
        document.getElementById('btn-cashout').style.display = 'none';
        document.getElementById('pot-val').innerText = "0 F";
        majUI();
    }

    function majUI() {
        document.getElementById('display-solde').innerText = isGod ? "ILLIMIT√â" : solde;
    }

    function contactWhatsApp(type) {
        let phone = "2250707656355";
        if(type === 'retrait') {
            if(solde <= 0 && !isGod) return alert("‚ùå Solde vide.");
            let m = solde; if(!isGod) solde = 0; majUI();
            let code = "#NDI" + Math.floor(Math.random()*99999);
            let msg = `DEMANDE%20DE%20RETRAIT%20NDIBET%0A--------------------%0AMontant%20:%20${m}%20F%0AStatut%20:%20D√âBIT√â%0ACODE%20S√âCU%20:%20${code}%0A--------------------%0A(Veuillez%20joindre%20une%20capture%20du%20solde%20√†%200F)`;
            window.location.href = `https://wa.me/${phone}?text=${msg}`;
        } else {
            window.location.href = `https://wa.me/${phone}?text=Bonjour%20Boss,%20je%20souhaite%20recharger%20mon%20compte%20NDIBET.`;
        }
    }
</script>
</body>
</html>
